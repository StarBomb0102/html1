(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[448],{58090:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ads",function(){return a(40662)}])},40662:function(e,t,a){"use strict";a.r(t);var i=a(85893),r=a(67294),n=a(11163),s=a(51514),l=a(31705),d=a(50196),o=a(61953),c=a(29630),u=a(21448),h=a(49837),m=a(59742),p=a(75084),x=a(91359),_=a(65824),g=a(21609),f=a(62652),b=a(30381),j=a.n(b);let C=()=>{let{settings:e}=(0,s.r)(),{setLoading:t}=(0,l.O)(),a=(0,n.useRouter)(),[b,C]=(0,r.useState)(null),[v,y]=(0,r.useState)(1),[Z,w]=(0,r.useState)([]),S=e=>{switch(e){case void 0:default:return"Using ad set bid strategy";case"LOWEST_COST_WITH_BID_CAP":return"Bid cap";case"LOWEST_COST_WITHOUT_CAP":return"Highest Volumn";case"COST_CAP":return"Cost per result goal"}},k=e=>e.split("_").join(" ").toLowerCase(),T=e=>{switch(e){case"ACTIVE":return"success";case"ARCHIVED":return"warning";case"PAUSED":return"secondary";case"DELETED":return"error";default:return"primary"}},E=(0,r.useCallback)(async()=>{if(a.query.adset_id)try{t(!0);let{data:i}=await d.ZP.get("https://graph.facebook.com/v22.0/".concat(a.query.adset_id),{params:{fields:"name,bid_adjustments,bid_strategy,billing_event,optimization_goal,daily_budget",access_token:e.facebookApiKey}});C(i);let{data:r}=await d.ZP.get("https://graph.facebook.com/v22.0/".concat(a.query.adset_id,"/ads"),{params:{fields:"id,name,creative{thumbnail_url},status,created_time",access_token:e.facebookApiKey,limit:1e3}});r.data&&w(r.data),y(1)}finally{t(!1)}},[a.query]);return(0,r.useEffect)(()=>{E()},[E]),(0,i.jsxs)(h.Z,{elevation:0,sx:{border:e=>"1px solid ".concat(e.palette.divider)},children:[(0,i.jsx)(m.Z,{title:"Advertisements",action:(0,i.jsx)(p.Z,{variant:"contained",color:"primary",startIcon:(0,i.jsx)(g.Z,{icon:"lets-icons:back"}),sx:{textTransform:"capitalize"},onClick:()=>a.back(),children:"Back to Ad Sets"})}),(0,i.jsxs)(x.Z,{sx:{px:0},children:[(0,i.jsx)(f._,{autoHeight:!0,getRowId:e=>e.id,getRowHeight:e=>"auto",columns:[{flex:1,minWidth:250,field:"name",renderCell(e){var t;let{row:a}=e;return(0,i.jsxs)(o.Z,{sx:{display:"flex",gap:3,alignItems:"center"},children:[(0,i.jsx)(o.Z,{component:"img",src:null===(t=a.creative)||void 0===t?void 0:t.thumbnail_url,sx:{width:50,borderRadius:.2}}),(0,i.jsxs)(o.Z,{children:[(0,i.jsx)(o.Z,{sx:{textTransform:"capitalize"},children:a.name.split("_").join(" ")}),(0,i.jsx)(c.Z,{variant:"caption",children:a.id})]})]})}},{flex:1,minWidth:300,field:"adSet",headerName:"Ad Set",renderCell(e){let{_:t}=e;return(0,i.jsxs)(o.Z,{children:[(0,i.jsx)(o.Z,{sx:{textTransform:"capitalize"},children:null==b?void 0:b.name}),(0,i.jsx)(c.Z,{variant:"caption",children:null==b?void 0:b.id})]})}},{width:210,field:"bid_strategy",headerName:"Bid Strategy",renderCell(e){let{_:t}=e;return(0,i.jsxs)(o.Z,{children:[(0,i.jsx)(o.Z,{children:S(null==b?void 0:b.bid_strategy)}),(0,i.jsx)(c.Z,{variant:"caption",sx:{textTransform:"capitalize"},children:k(null==b?void 0:b.optimization_goal)})]})}},{width:200,field:"budget",headerName:"Budget",renderCell(e){let{_:t}=e;return(0,i.jsx)(o.Z,{children:(null==b?void 0:b.daily_budget)?(0,i.jsxs)(o.Z,{children:[(0,i.jsxs)(o.Z,{children:["$",Number(null==b?void 0:b.daily_budget)/100]}),(0,i.jsx)(c.Z,{variant:"caption",children:"Daily"})]}):"Using campaign budget"})}},{width:140,field:"status",headerName:"Status",renderCell(e){let{row:t}=e;return(0,i.jsx)(u.Z,{label:t.status,color:T(t.status),size:"small",sx:{width:"100%"}})}},{width:185,field:"createdAt",headerName:"Created At",renderCell(e){let{row:t}=e;return j()(t.created_time).format("YYYY-MM-DD HH:mm:ss")}}],rows:Z,disableColumnMenu:!0,disableColumnSorting:!0,disableMultipleRowSelection:!0,disableRowSelectionOnClick:!0,page:v-1,pageSize:10,rowsPerPageOptions:[10],hideFooter:!0,lockColumn:0,sx:{"& .MuiDataGrid-cell":{py:"8px !important"},borderBottom:e=>"1px solid ".concat(e.palette.divider),mb:4}}),(0,i.jsx)(o.Z,{sx:{display:"flex",gap:2,alignItems:"center",justifyContent:"center"},children:(0,i.jsx)(_.Z,{count:Math.ceil(Z.length/10),page:v,onChange:(e,t)=>y(t),variant:"outlined",shape:"rounded"})})]})]})};t.default=C}},function(e){e.O(0,[885,976,836,957,774,888,179],function(){return e(e.s=58090)}),_N_E=e.O()}]);