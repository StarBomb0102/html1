(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[742],{53436:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/forgot-password",function(){return n(68603)}])},88942:function(e,t,n){"use strict";var i=n(85893),s=n(67074),o=n(61953);let r=(0,s.ZP)(o.Z)(e=>{let{theme:t}=e;return{height:"100vh","& .content-center":{display:"flex",minHeight:"100vh",alignItems:"center",justifyContent:"center",padding:t.spacing(5)},"& .content-right":{display:"flex",minHeight:"100vh",overflowX:"hidden",position:"relative"}}}),a=e=>{let{children:t}=e;return(0,i.jsx)(r,{className:"layout-wrapper",children:(0,i.jsx)(o.Z,{className:"app-content",sx:{minHeight:"100vh",overflowX:"hidden",position:"relative"},children:t})})};t.Z=a},68603:function(e,t,n){"use strict";n.r(t);var i=n(85893),s=n(67294),o=n(11163),r=n(41664),a=n.n(r),l=n(75084),c=n(67836),d=n(61953),u=n(67074),m=n(29630),g=n(21609),p=n(30152),h=n(88942),f=n(74231),x=n(87536),v=n(47533),j=n(55343),Z=n(32631),y=n(70754),b=n(5464),w=n(78065);let k={email:""},_=(0,u.ZP)(d.Z)(e=>{let{theme:t}=e;return{width:450,padding:30,background:t.palette.background.paper,[t.breakpoints.down("md")]:{maxWidth:400}}}),C=(0,u.ZP)(m.Z)(e=>{let{theme:t}=e;return{fontWeight:600,letterSpacing:"0.18px",marginBottom:t.spacing(1.5),[t.breakpoints.down("md")]:{marginTop:t.spacing(8)}}}),E=(0,u.ZP)(a())(e=>{let{theme:t}=e;return{display:"flex","& svg":{mr:1.5},alignItems:"center",textDecoration:"none",justifyContent:"center",color:t.palette.primary.main}}),S=()=>{let e=(0,o.useRouter)(),[t,n]=(0,s.useState)("/images/logo.svg"),[r,u]=(0,s.useState)(!1),h=f.Ry().shape({email:f.Z_().email("Email is an invalid field").required("Email is an required field")}),{control:S,reset:I,handleSubmit:N,formState:{errors:P}}=(0,x.cI)({defaultValues:k,mode:"onChange",resolver:(0,v.X)(h)}),D=async t=>{try{u(!0);let{data:n}=await b.Z.post("/auth/forgot-password",t);n.status?(w.Am.success(n.message),e.push("/forgot-password/confirmation")):w.Am.error(n.message)}catch(o){var i,s;w.Am.error((null===(i=o.response)||void 0===i?void 0:null===(s=i.data)||void 0===s?void 0:s.message)||o.message)}finally{setTimeout(()=>{u(!1)},500)}};(0,s.useEffect)(()=>{I(k),u(!1)},[]);let O=(0,s.useCallback)(async()=>{let{data:e}=await b.Z.get("/settings");n((null==e?void 0:e.LOGO)?"".concat("/uploads","/logos/").concat(null==e?void 0:e.LOGO):"/images/logo.svg")},[]);return(0,s.useEffect)(()=>{O()},[O]),(0,i.jsx)(d.Z,{sx:{display:"flex",height:"100%",minHeight:"100vh",alignItems:"center",justifyContent:"center",backgroundImage:"url(/images/background.jpg)",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"},children:(0,i.jsxs)(_,{children:[(0,i.jsxs)(d.Z,{component:a(),href:"/",sx:{top:30,left:40,display:"flex",position:"absolute",alignItems:"center",justifyContent:"center",textDecoration:"none"},children:[(0,i.jsx)(d.Z,{component:"img",src:t}),(0,i.jsx)(m.Z,{variant:"h6",sx:{ml:2,lineHeight:1,color:"#fafafa",fontWeight:700,fontSize:"1.5rem !important"},children:p.Z.templateName})]}),(0,i.jsxs)(d.Z,{sx:{mb:6},children:[(0,i.jsx)(C,{variant:"h5",children:"Forgot Password? \uD83D\uDD12"}),(0,i.jsx)(m.Z,{variant:"body2",children:"Enter your email and weâ€²ll send you instructions to reset your password"})]}),(0,i.jsxs)(d.Z,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:N(D),children:[(0,i.jsxs)(j.Z,{fullWidth:!0,sx:{mb:4},children:[(0,i.jsx)(x.Qr,{name:"email",control:S,render(e){let{field:{value:t,onChange:n,onBlur:s}}=e;return(0,i.jsx)(c.Z,{autoFocus:!0,size:"small",type:"email",label:"Email",value:t,onChange:n,onBlur:s,error:Boolean(P.email)})}}),P.email&&(0,i.jsx)(Z.Z,{sx:{color:"error.main",mx:.5},children:P.email.message})]}),(0,i.jsx)(l.Z,{fullWidth:!0,type:"submit",variant:"contained",sx:{mb:4},disabled:!!r||void 0,startIcon:r&&(0,i.jsx)(y.Z,{color:"inherit",size:16}),children:"Send reset link"}),(0,i.jsx)(m.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,i.jsxs)(E,{href:"/login",sx:{display:"flex",gap:2},children:[(0,i.jsx)(g.Z,{icon:"lucide:move-left",fontSize:"1.5rem"}),(0,i.jsx)("span",{children:"Back to login"})]})})]})]})})};S.guestGuard=!0,S.getLayout=e=>(0,i.jsx)(h.Z,{children:e}),t.default=S}},function(e){e.O(0,[976,836,536,491,774,888,179],function(){return e(e.s=53436)}),_N_E=e.O()}]);