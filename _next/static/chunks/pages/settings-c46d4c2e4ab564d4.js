(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{62026:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var n=r(63366),a=r(87462),o=r(67294),i=r(86010),s=r(94780),l=r(67074),d=r(78884),c=r(1588),u=r(34867);function f(e){return(0,u.Z)("MuiCardActions",e)}(0,c.Z)("MuiCardActions",["root","spacing"]);var p=r(85893);let x=["disableSpacing","className"],m=e=>{let{classes:t,disableSpacing:r}=e;return(0,s.Z)({root:["root",!r&&"spacing"]},f,t)},v=(0,l.ZP)("div",{name:"MuiCardActions",slot:"Root",overridesResolver(e,t){let{ownerState:r}=e;return[t.root,!r.disableSpacing&&t.spacing]}})(({ownerState:e})=>(0,a.Z)({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),Z=o.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiCardActions"}),{disableSpacing:o=!1,className:s}=r,l=(0,n.Z)(r,x),c=(0,a.Z)({},r,{disableSpacing:o}),u=m(c);return(0,p.jsx)(v,(0,a.Z)({className:(0,i.Z)(u.root,s),ownerState:c,ref:t},l))});var h=Z},91359:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var n=r(87462),a=r(63366),o=r(67294),i=r(86010),s=r(94780),l=r(67074),d=r(78884),c=r(1588),u=r(34867);function f(e){return(0,u.Z)("MuiCardContent",e)}(0,c.Z)("MuiCardContent",["root"]);var p=r(85893);let x=["className","component"],m=e=>{let{classes:t}=e;return(0,s.Z)({root:["root"]},f,t)},v=(0,l.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Z=o.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiCardContent"}),{className:o,component:s="div"}=r,l=(0,a.Z)(r,x),c=(0,n.Z)({},r,{component:s}),u=m(c);return(0,p.jsx)(v,(0,n.Z)({as:s,className:(0,i.Z)(u.root,o),ownerState:c,ref:t},l))});var h=Z},59742:function(e,t,r){"use strict";r.d(t,{Z:function(){return _}});var n=r(63366),a=r(87462),o=r(67294),i=r(86010),s=r(94780),l=r(29630),d=r(78884),c=r(67074),u=r(1588),f=r(34867);function p(e){return(0,f.Z)("MuiCardHeader",e)}let x=(0,u.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var m=r(85893);let v=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],Z=e=>{let{classes:t}=e;return(0,s.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},p,t)},h=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>(0,a.Z)({[`& .${x.title}`]:t.title,[`& .${x.subheader}`]:t.subheader},t.root)})({display:"flex",alignItems:"center",padding:16}),g=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),j=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),E=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto"}),C=o.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiCardHeader"}),{action:o,avatar:s,className:c,component:u="div",disableTypography:f=!1,subheader:p,subheaderTypographyProps:x,title:C,titleTypographyProps:_}=r,I=(0,n.Z)(r,v),A=(0,a.Z)({},r,{component:u,disableTypography:f}),O=Z(A),b=C;null==b||b.type===l.Z||f||(b=(0,m.jsx)(l.Z,(0,a.Z)({variant:s?"body2":"h5",className:O.title,component:"span",display:"block"},_,{children:b})));let y=p;return null==y||y.type===l.Z||f||(y=(0,m.jsx)(l.Z,(0,a.Z)({variant:s?"body2":"body1",className:O.subheader,color:"text.secondary",component:"span",display:"block"},x,{children:y}))),(0,m.jsxs)(h,(0,a.Z)({className:(0,i.Z)(O.root,c),as:u,ref:t,ownerState:A},I,{children:[s&&(0,m.jsx)(g,{className:O.avatar,ownerState:A,children:s}),(0,m.jsxs)(E,{className:O.content,ownerState:A,children:[b,y]}),o&&(0,m.jsx)(j,{className:O.action,ownerState:A,children:o})]}))});var _=C},49837:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n=r(87462),a=r(63366),o=r(67294),i=r(86010),s=r(94780),l=r(67074),d=r(78884),c=r(70918),u=r(1588),f=r(34867);function p(e){return(0,f.Z)("MuiCard",e)}(0,u.Z)("MuiCard",["root"]);var x=r(85893);let m=["className","raised"],v=e=>{let{classes:t}=e;return(0,s.Z)({root:["root"]},p,t)},Z=(0,l.ZP)(c.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),h=o.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiCard"}),{className:o,raised:s=!1}=r,l=(0,a.Z)(r,m),c=(0,n.Z)({},r,{raised:s}),u=v(c);return(0,x.jsx)(Z,(0,n.Z)({className:(0,i.Z)(u.root,o),elevation:s?8:void 0,ref:t,ownerState:c},l))});var g=h},92074:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return r(94090)}])},94090:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return C}});var n=r(85893),a=r(67294),o=r(49837),i=r(59742),s=r(91359),l=r(61953),d=r(29630),c=r(79072),u=r(55343),f=r(67836),p=r(62026),x=r(75084),m=r(70754),v=r(87536),Z=r(5464),h=r(78065);let g=e=>{let{value:t,error:r,width:o=100,height:i=100,onChange:s}=e,d=(0,a.useRef)(null),c=e=>{s(e.target.files[0])},u=()=>{s("")};return(0,n.jsx)(l.Z,{sx:{height:i},children:(0,n.jsxs)(l.Z,{sx:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:1,overflow:"hidden",background:"#282A42",border:e=>"1px solid ".concat(r?e.palette.error.main:e.palette.divider),"&:hover .actions":{opacity:1}},children:[(0,n.jsx)(l.Z,{component:"img",src:t?t instanceof File?URL.createObjectURL(t):"".concat("/uploads","/logos/").concat(t):"/images/logo.svg",alt:"Logo",sx:{minWidth:i,height:i,objectFit:"cover",background:"#282A42",padding:3}}),(0,n.jsxs)(l.Z,{className:"actions",sx:{position:"absolute",background:"#0000007a",top:0,left:0,width:"100%",height:"100%",display:"flex",flexDirection:"column",gap:2,alignItems:"center",justifyContent:"center",opacity:0,transition:"all .3s ease"},children:[(0,n.jsx)(x.Z,{variant:"outlined",size:"small",color:"primary",onClick:()=>d.current.click(),sx:{color:"#ffffff",borderColor:"#ffffff",textTransform:"capitalize","&:hover":{borderColor:"#fafafa"}},children:"Browse"}),t&&(0,n.jsx)(x.Z,{variant:"outlined",size:"small",color:"error",onClick:u,sx:{color:"#ffffff",borderColor:"#ffffff",textTransform:"capitalize","&:hover":{borderColor:"#fafafa"}},children:"Remove"}),(0,n.jsx)(l.Z,{component:"input",type:"file",ref:d,accept:"image/*",sx:{display:"none"},onChange:c})]})]})})},j={LOGO:"",EMAIL_LOGO:"",SENDGRID_API_KEY:"",SENDGRID_EMAIL:"",FACEBOOK_API_KEY:""},E=()=>{let[e,t]=(0,a.useState)(!1),{control:r,reset:E,handleSubmit:C}=(0,v.cI)({defaultValues:j,mode:"onChange"}),_=(0,a.useCallback)(async()=>{try{let{data:e}=await Z.Z.get("/settings");E({LOGO:null==e?void 0:e.LOGO,EMAIL_LOGO:null==e?void 0:e.EMAIL_LOGO,SENDGRID_API_KEY:null==e?void 0:e.SENDGRID_API_KEY,SENDGRID_EMAIL:null==e?void 0:e.SENDGRID_EMAIL,FACEBOOK_API_KEY:null==e?void 0:e.FACEBOOK_API_KEY})}catch(n){var t,r;h.Am.error((null==n?void 0:null===(t=n.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.message)||n.message)}},[]),I=async e=>{try{t(!0);let r=new FormData;e.LOGO instanceof File&&r.append("LOGO",e.LOGO),e.EMAIL_LOGO instanceof File&&r.append("EMAIL_LOGO",e.EMAIL_LOGO),r.append("SENDGRID_API_KEY",e.SENDGRID_API_KEY),r.append("SENDGRID_EMAIL",e.SENDGRID_EMAIL),r.append("FACEBOOK_API_KEY",e.FACEBOOK_API_KEY);let{data:n}=await Z.Z.put("/settings",r);n.status?h.Am.success(n.message):h.Am.error(n.message)}catch(i){var a,o;h.Am.error((null==i?void 0:null===(a=i.response)||void 0===a?void 0:null===(o=a.data)||void 0===o?void 0:o.message)||i.message)}finally{setTimeout(()=>{t(!1)},500)}};return(0,a.useEffect)(()=>{_()},[_]),(0,n.jsxs)(o.Z,{component:"form",elevation:0,sx:{border:e=>"1px solid ".concat(e.palette.divider)},onSubmit:C(I),children:[(0,n.jsx)(i.Z,{title:"Settings"}),(0,n.jsx)(s.Z,{children:(0,n.jsxs)(l.Z,{sx:{display:"flex",flexWrap:"wrap",flexDirection:{md:"row",xs:"column"},alignItems:"center",justifyContent:"center",gap:4},children:[(0,n.jsx)(l.Z,{sx:{flex:1,minWidth:300},children:(0,n.jsxs)(l.Z,{sx:{display:"flex",gap:4},children:[(0,n.jsxs)(l.Z,{sx:{flex:1},children:[(0,n.jsx)(d.Z,{variant:"caption",children:"Website Logo"}),(0,n.jsx)(v.Qr,{name:"LOGO",control:r,render(e){let{field:{value:t,onChange:r}}=e;return(0,n.jsx)(g,{value:t,onChange:r})}})]}),(0,n.jsxs)(l.Z,{sx:{flex:1},children:[(0,n.jsx)(d.Z,{variant:"caption",children:"Email Logo"}),(0,n.jsx)(v.Qr,{name:"EMAIL_LOGO",control:r,render(e){let{field:{value:t,onChange:r}}=e;return(0,n.jsx)(g,{value:t,onChange:r})}})]})]})}),(0,n.jsx)(l.Z,{sx:{flex:2,mt:6},children:(0,n.jsxs)(c.ZP,{container:!0,spacing:5,children:[(0,n.jsx)(c.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(u.Z,{fullWidth:!0,children:(0,n.jsx)(v.Qr,{name:"SENDGRID_API_KEY",control:r,render(e){let{field:{value:t,onChange:r}}=e;return(0,n.jsx)(f.Z,{label:"SendGrid API Key",size:"small",value:t,onChange:r})}})})}),(0,n.jsx)(c.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(u.Z,{fullWidth:!0,children:(0,n.jsx)(v.Qr,{name:"SENDGRID_EMAIL",control:r,render(e){let{field:{value:t,onChange:r}}=e;return(0,n.jsx)(f.Z,{label:"SendGrid Email",size:"small",value:t,onChange:r})}})})}),(0,n.jsx)(c.ZP,{item:!0,xs:12,children:(0,n.jsx)(u.Z,{fullWidth:!0,children:(0,n.jsx)(v.Qr,{name:"FACEBOOK_API_KEY",control:r,render(e){let{field:{value:t,onChange:r}}=e;return(0,n.jsx)(f.Z,{label:"Facebook API Key",size:"small",value:t,onChange:r})}})})})]})})]})}),(0,n.jsx)(p.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,n.jsx)(x.Z,{type:"submit",variant:"contained",sx:{textTransform:"capitalize"},disabled:!!e||void 0,startIcon:e&&(0,n.jsx)(m.Z,{color:"inherit",size:16}),children:"Update"})})]})};var C=E}},function(e){e.O(0,[976,836,536,72,774,888,179],function(){return e(e.s=92074)}),_N_E=e.O()}]);